"use strict";(self.webpackChunkmmsp_land=self.webpackChunkmmsp_land||[]).push([[1818],{31818:(e,t,r)=>{r.r(t),r.d(t,{default:()=>F});var i=r(72791),a=r(28979),s=r(87583),l=r(18661),n=r(21149),o=r(36801),c=r(59181),u=r(85113),d=r(86471),h=r(66683);class f extends d.c{_beforeChanged(){super._beforeChanged(),this.isDirty("gap")&&(this._clear=!0)}_draw(){super._draw();const e=this.get("width",100),t=this.get("height",100),r=this.get("gap",0),i=this.get("strokeWidth",1);if(r){let a=r+i,s=t/a;for(let t=-s;t<2*s;t++){const r=Math.round(t*a-a/2)+.5;this._display.moveTo(-e,r),this._display.lineTo(2*e,r)}}else this._display.moveTo(0,0),this._display.lineTo(e,0);this._display.lineStyle(i,this.get("color"),this.get("colorOpacity"));let a=this.get("strokeDasharray");h.hj(a)&&(a=a<.5?[0]:[a]),this._display.setLineDash(a);const s=this.get("strokeDashoffset");s&&this._display.setLineDashOffset(s),this._display.endStroke()}}Object.defineProperty(f,"className",{enumerable:!0,configurable:!0,writable:!0,value:"LinePattern"}),Object.defineProperty(f,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:d.c.classNames.concat([f.className])});var p=r(66817),g=r(36061),v=r(70565),m=r(54797),y=r(95494),w=r(56343),b=r(44323),x=r(71570),_=r(52633),k=r(38487),A=r(39286),S=r(97873),j=r(27663),T=r(82308),C=r(80659),N=r(91934),O=r(44520),D=r(80184);function R(e){o.S6(c.i_.rootElements,(function(t){t.dom.id===e&&t.dispose()}))}const F=(0,i.memo)((e=>{let{contractp:t,landtype:r,landsection:o,typelist:c}=e;const d=(0,i.useRef)({}),h=(0,i.useRef)({}),F=(0,i.useRef)({}),[L,E]=(0,i.useState)([{category:String,value:Number}]),I="structure-chart",[$,P]=(0,i.useState)([]),U=(0,i.useRef)({}),W=(0,i.useRef)({}),Q=(0,i.useRef)({}),[Z,B]=(0,i.useState)([{category:String,value:Number}]),z="structure-moa",M="Package = '"+t+"'",Y=M+" AND "+("Type = '"+r+"'"),q=Y+" AND "+("Station1 ='"+o+"'");return a.UC.definitionExpression=t?!t||r||o?t&&r&&!o?Y:q:M:"1=1",(0,i.useEffect)((()=>{(0,O.KD)().then((e=>{E(e)})),(0,O.fT)().then((e=>{P(e)})),(0,O.VV)().then((e=>{B(e)}))}),[t,r,o]),(0,i.useEffect)((()=>{var e;class t extends u.Q{constructor(){super(...arguments),this.patterns=void 0,this.currentPattern=void 0}setupDefaultRules(){var e=this;const t=135,r=1.1,i=10,a=10;this.patterns=[f.new(this._root,{color:p.$_("#70AD47"),gap:4,rotation:t,strokeWidth:r,fillOpacity:0,width:i,height:a}),f.new(this._root,{color:p.$_("#0070FF"),gap:4,rotation:t,strokeWidth:r,fillOpacity:0,width:i,height:a}),f.new(this._root,{color:p.$_("#FFFF00"),gap:4,rotation:t,strokeWidth:r,fillOpacity:0,width:i,height:a}),f.new(this._root,{color:p.$_("#FFAA00"),gap:4,rotation:t,strokeWidth:r,fillOpacity:0,width:i,height:a}),f.new(this._root,{color:p.$_("#FF0000"),gap:4,rotation:t,strokeWidth:r,fillOpacity:0,width:i,height:a}),f.new(this._root,{color:p.$_("#00734C"),gap:4,rotation:t,strokeWidth:r,fillOpacity:0,width:i,height:a})],this.currentPattern=0,this.rule("Slice").setAll({fillOpacity:0}),this.rule("Slice").setup=function(t){var r;t.set("fillPattern",e.patterns[e.currentPattern]),e.currentPattern++,e.currentPattern===(null===(r=e.patterns)||void 0===r?void 0:r.length)&&(e.currentPattern=0)}}}R(I);var r=g.f.new(I);r.container.children.clear(),null===(e=r._logo)||void 0===e||e.dispose(),r.setThemes([C.Z.new(r),N.Z.new(r),t.new(r)]);var i=r.container.children.push(j.u.new(r,{y:v.aQ(-25),layout:r.horizontalLayout}));F.current=i;var o=i.series.push(T.f.new(r,{name:"Series",categoryField:"category",valueField:"value",legendValueText:"{valuePercentTotal.formatNumber('#.')}% ({value})",radius:v.aQ(45),innerRadius:v.aQ(20),marginBottom:-10}));d.current=o,i.series.push(o),o.slices.template.setAll({fillOpacity:0,stroke:p.$_("#ffffff"),strokeWidth:.7,strokeOpacity:1,templateField:"sliceSettings"}),o.labels.template.set("visible",!1),o.ticks.template.set("visible",!1),o.slices.template.events.on("click",(e=>{var t;const r=(null===(t=e.target.dataItem)||void 0===t?void 0:t.dataContext).category,i=O.Yz.find((e=>e.category===r)),o=null===i||void 0===i?void 0:i.value;var c,u=a.UC.createQuery();s.ei.when((function(){s.ei.whenLayerView(a.UC).then((e=>{a.UC.queryFeatures(u).then((function(t){const r=t.features.length;let i=[];for(var o=0;o<r;o++){var u=t.features[o].attributes.OBJECTID;i.push(u)}var d=new n.Z({objectIds:i});a.UC.queryExtent(d).then((function(e){e.extent&&s.ei.goTo(e.extent)})),c&&c.remove(),c=e.highlight(i),s.ei.on("click",(function(){e.filter=new l.Z({where:void 0}),c.remove()}))})),e.filter=new l.Z({where:"StatusStruc = "+o})}))}))})),o.data.setAll(L);var c=r.container.children.push(m.D.new(r,{centerX:v.aQ(50),x:v.aQ(50),y:v.aQ(48),layout:r.verticalLayout}));h.current=c,c.data.setAll(o.dataItems),c.markers.template.setAll({width:18,height:18}),c.markerRectangles.template.setAll({cornerRadiusTL:10,cornerRadiusTR:10,cornerRadiusBL:10,cornerRadiusBR:10}),i.onPrivate("width",(function(e){var t=Math.max(e-i.height()-190,190);c.labels.template.setAll({width:t,maxWidth:t})}));return c.labels.template.setAll({oversizedBehavior:"truncate",fill:p.$_("#ffffff")}),c.valueLabels.template.setAll({textAlign:"right",width:50,fill:p.$_("#ffffff")}),c.itemContainers.template.setAll({paddingTop:1.1,paddingBottom:2}),o.appear(1e3,100),()=>{r.dispose()}}),[I,L]),(0,i.useEffect)((()=>{var e,t;null===(e=d.current)||void 0===e||e.data.setAll(L),null===(t=h.current)||void 0===t||t.data.setAll(d.current.dataItems)})),(0,i.useEffect)((()=>{var e;R(z);var t=g.f.new(z);t.container.children.clear(),null===(e=t._logo)||void 0===e||e.dispose(),t.setThemes([C.Z.new(t),N.Z.new(t)]);var r=t.container.children.push(b.z.new(t,{panX:!1,panY:!1,wheelX:"none",wheelY:"none",paddingLeft:0,marginTop:20}));Q.current=r;var i=x.j.new(t,{minGridDistance:5,strokeOpacity:1,strokeWidth:1,inversed:!0,stroke:p.$_("#ffffff")});i.grid.template.set("location",1);var o=r.yAxes.push(_.$.new(t,{maxDeviation:0,categoryField:"category",renderer:i}));o.get("renderer").grid.template.set("forceHidden",!0);var c=r.xAxes.push(k.m.new(t,{maxDeviation:0,min:0,strictMinMax:!0,calculateTotals:!0,renderer:A.n.new(t,{visible:!0,strokeOpacity:1,strokeWidth:1,stroke:p.$_("#ffffff")})}));c.get("renderer").grid.template.set("forceHidden",!0),o.get("renderer").labels.template.setAll({textAlign:"center",fill:p.$_("#ffffff"),fontSize:12}),c.get("renderer").labels.template.setAll({fill:p.$_("#ffffff"),fontSize:10});var u=r.series.push(S.d.new(t,{name:"Series 1",xAxis:c,yAxis:o,valueXField:"value",sequencedInterpolation:!0,categoryYField:"category"}));return U.current=u,r.series.push(u),u.columns.template.setAll({draggable:!0,cursorOverStyle:"pointer",tooltipText:"{value}",cornerRadiusBR:10,cornerRadiusTR:10,strokeOpacity:0}),u.bullets.push((function(){return y.g.new(t,{locationY:1,sprite:w._.new(t,{text:"{value}",fill:t.interfaceColors.get("alternativeText"),centerY:8,centerX:v.CI,fontSize:13,populateText:!0})})})),u.columns.template.events.on("click",(function(e){var t;const r=(null===(t=e.target.dataItem)||void 0===t?void 0:t.dataContext).category,i=O.Kj.find((e=>e.category===r)),o=null===i||void 0===i?void 0:i.value;var c,u=a.UC.createQuery();s.ei.whenLayerView(a.UC).then((function(e){a.UC.queryFeatures(u).then((function(t){const r=t.features.length;let i=[];for(var o=0;o<r;o++){var u=t.features[o].attributes.OBJECTID;i.push(u)}var d=new n.Z({objectIds:i});a.UC.queryExtent(d).then((function(e){e.extent&&s.ei.goTo(e.extent)})),c&&c.remove(),c=e.highlight(i),s.ei.on("click",(function(){e.filter=new l.Z({where:void 0}),c.remove()}))})),e.filter=new l.Z({where:"S_MOA = "+o})}))})),W.current=o,o.data.setAll(Z),u.data.setAll(Z),u.appear(1e3),r.appear(1e3,100),()=>{t.dispose()}}),[z,Z]),(0,i.useEffect)((()=>{var e,t;null===(e=U.current)||void 0===e||e.data.setAll(Z),null===(t=W.current)||void 0===t||t.data.setAll(Z)})),(0,D.jsxs)(D.Fragment,{children:[(0,D.jsxs)("div",{className:"lotNumberImage",children:[(0,D.jsxs)("div",{children:[(0,D.jsx)("div",{className:"totalStructuresLabel",children:"TOTAL STRUCTURES "}),(0,D.jsx)("br",{}),(0,D.jsx)("br",{}),(0,D.jsxs)("b",{className:"totalLotsNumber",children:[(0,O.oc)($[3])," ",(0,D.jsxs)("div",{className:"totalLotsNumber2",children:["(",(0,O.oc)($[2]),")"]})," "]})]}),(0,D.jsx)("img",{src:"https://EijiGorilla.github.io/Symbols/House_Logo.svg",alt:"Structure Logo",height:"19%",width:"19%",style:{padding:"10px",margin:"auto"}})]}),(0,D.jsx)("div",{id:I,style:{height:"45vh",backgroundColor:"rgb(0,0,0,0)",color:"white",marginBottom:"-4.5vh"}}),(0,D.jsxs)("div",{className:"structureNumberImage",children:[(0,D.jsxs)("div",{children:[(0,D.jsx)("div",{className:"totalStructuresLabel",children:"DEMOLISHED"}),(0,D.jsx)("br",{}),(0,D.jsx)("br",{}),0===$[1]?(0,D.jsxs)("b",{className:"DemolishedNumber",children:[$[0],"% (0)"]}):(0,D.jsxs)("b",{className:"DemolishedNumber",children:[$[0],"% (",(0,O.oc)($[1]),")"]})]}),(0,D.jsx)("img",{src:"https://EijiGorilla.github.io/Symbols/Structure_Demolished.svg",alt:"Structure Logo",height:"18%",width:"18%",style:{padding:"10px",margin:"auto"}})]}),(0,D.jsx)("div",{className:"moaStructureTitle",children:"MODE OF ACQUISITION"}),(0,D.jsx)("div",{id:z,style:{height:"21vh",backgroundColor:"rgb(0,0,0,0)",color:"white"}})]})}))}}]);
//# sourceMappingURL=1818.e353c55f.chunk.js.map