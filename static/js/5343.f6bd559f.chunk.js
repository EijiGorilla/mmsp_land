"use strict";(self.webpackChunkmmsp_land=self.webpackChunkmmsp_land||[]).push([[5343],{5343:(e,t,a)=>{a.r(t),a.d(t,{default:()=>y});var l=a(72791),i=a(28979),s=a(87583),r=a(18661),n=a(21149),o=a(36801),c=a(59181),u=a(66817),d=a(36061),f=a(70565),h=a(54797),m=a(27663),v=a(82308),p=a(80659),g=a(91934),b=a(44520),w=a(80184);const y=(0,l.memo)((e=>{let{contractp:t,landtype:a,landsection:y}=e;const x=(0,l.useRef)({}),j=(0,l.useRef)({}),A=(0,l.useRef)({}),[k,L]=(0,l.useState)([{category:String,value:Number,sliceSettings:{fill:u.$_("#00c5ff")}}]),[N,T]=(0,l.useState)(),R="isf-pie",S="Package = '"+t+"'",E=S+" AND "+("Type = '"+a+"'"),I=E+" AND "+("Station1 ='"+y+"'");return i.jl.definitionExpression=t?!t||a||y?t&&a&&!y?E:I:S:"1=1",(0,l.useEffect)((()=>{(0,b.o6)().then((e=>{L(e)})),(0,b.nN)().then((e=>{T(e)}))}),[t,a,y]),(0,l.useEffect)((()=>{var e,t;t=R,o.S6(c.i_.rootElements,(function(e){e.dom.id===t&&e.dispose()}));var a=d.f.new(R);a.container.children.clear(),null===(e=a._logo)||void 0===e||e.dispose(),a.setThemes([p.Z.new(a),g.Z.new(a)]);var l=a.container.children.push(m.u.new(a,{y:f.aQ(-25),layout:a.horizontalLayout}));A.current=l;var b=l.series.push(v.f.new(a,{name:"Series",categoryField:"category",valueField:"value",legendValueText:"{valuePercentTotal.formatNumber('#.')}% ({value})",radius:f.aQ(45),innerRadius:f.aQ(20),marginBottom:-10}));x.current=b,l.series.push(b),b.slices.template.setAll({fillOpacity:.9,stroke:u.$_("#ffffff"),strokeWidth:1,strokeOpacity:1,templateField:"sliceSettings"}),b.labels.template.set("visible",!1),b.ticks.template.set("visible",!1),b.slices.template.events.on("click",(e=>{var t;const a=(null===(t=e.target.dataItem)||void 0===t?void 0:t.dataContext).category;var l,o=i.jl.createQuery();s.ei.when((function(){s.ei.whenLayerView(i.jl).then((e=>{i.jl.queryFeatures(o).then((function(t){const a=t.features.length;let o=[];for(var c=0;c<a;c++){var u=t.features[c].attributes.OBJECTID;o.push(u)}var d=new n.Z({objectIds:o});i.jl.queryExtent(d).then((function(e){e.extent&&s.ei.goTo(e.extent)})),l&&l.remove(),l=e.highlight(o),s.ei.on("click",(function(){e.filter=new r.Z({where:void 0}),l.remove()}))})),e.filter=new r.Z({where:"RELOCATION = '"+a+"'"})}))}))})),b.data.setAll(k);var w=a.container.children.push(h.D.new(a,{centerX:f.aQ(50),x:f.aQ(50),y:f.aQ(48),layout:a.verticalLayout}));j.current=w,w.data.setAll(b.dataItems),w.markers.template.setAll({width:18,height:18}),w.markerRectangles.template.setAll({cornerRadiusTL:10,cornerRadiusTR:10,cornerRadiusBL:10,cornerRadiusBR:10}),l.onPrivate("width",(function(e){var t=Math.max(e-l.height()-190,190);w.labels.template.setAll({width:t,maxWidth:t})}));return w.labels.template.setAll({oversizedBehavior:"truncate",fill:u.$_("#ffffff")}),w.valueLabels.template.setAll({textAlign:"right",width:50,fill:u.$_("#ffffff")}),w.itemContainers.template.setAll({paddingTop:1.1,paddingBottom:2}),b.appear(1e3,100),()=>{a.dispose()}}),[R,k]),(0,l.useEffect)((()=>{var e,t;null===(e=x.current)||void 0===e||e.data.setAll(k),null===(t=j.current)||void 0===t||t.data.setAll(x.current.dataItems)})),(0,w.jsxs)(w.Fragment,{children:[(0,w.jsxs)("div",{className:"isfNumberImage",children:[(0,w.jsxs)("div",{children:[(0,w.jsx)("div",{className:"totalIsfLabel",children:"TOTAL ISF "}),(0,w.jsx)("br",{}),(0,w.jsx)("br",{}),(0,w.jsxs)("b",{className:"isfTotalNumber",children:[(0,b.oc)(N)," "]})]}),(0,w.jsx)("img",{src:"https://EijiGorilla.github.io/Symbols/NLO_Logo.svg",alt:"NLO Logo",height:"19%",width:"19%",style:{padding:"10px",margin:"auto"}})]}),(0,w.jsx)("div",{id:R,style:{height:"45vh",backgroundColor:"rgb(0,0,0,0)",color:"white",marginBottom:"-1.5vh"}})]})}))}}]);
//# sourceMappingURL=5343.f6bd559f.chunk.js.map